import{b as f,e as i,o,f as g,g as s,h as k,t as a,i as u,k as m,F as h,j as c,n as p,w as b}from"./index-CX3mfoam.js";/* empty css                                                       */const y={class:"container mt-5 text-center"},R={id:"app"},v={key:0},w={key:1},B={class:"game-area piggy-bank-game"},C={key:2,class:"end-message"},S={data(){return{gameStarted:!1,gameEnded:!1,currentRound:0,totalRounds:20,correctAnswers:0,feedback:"",leftBank:[],rightBank:[],maxValue:1,accuracy:0,time:0,startTime:null}},methods:{startGame(){this.gameStarted=!0,this.gameEnded=!1,this.currentRound=0,this.correctAnswers=0,this.feedback="",this.maxValue=1,this.accuracy=0,this.time=0,this.startTime=new Date,this.generateRound()},generateRound(){const r=Math.floor(Math.random()*5)+3,e=Math.floor(Math.random()*5)+3;this.leftBank=this.generateCoins(r),this.rightBank=this.generateCoins(e)},generateCoins(r){const e=[];for(let t=0;t<r;t++)e.push(Math.random()<.5?1:this.maxValue);return e},handleAnswer(r){const e=this.leftBank.reduce((l,n)=>l+n,0),t=this.rightBank.reduce((l,n)=>l+n,0);r==="left"&&e>=t||r==="right"&&t>=e?(this.feedback="Правильно!",this.correctAnswers++):this.feedback="Неправильно!",this.currentRound++,this.currentRound>10&&(this.maxValue=2),this.currentRound<this.totalRounds?setTimeout(()=>{this.feedback="",this.generateRound()},1500):this.endGame()},endGame(){this.gameStarted=!1,this.gameEnded=!0,this.accuracy=Math.round(this.correctAnswers/this.totalRounds*100);const r=new Date;this.time=((r-this.startTime)/1e3).toFixed(2)}}},E=Object.assign(S,{__name:"PiggyBankGame",setup(r){return(e,t)=>{const l=f("router-link");return o(),i(h,null,[g(k),s("div",y,[s("h2",null,"Тест №"+a(e.$route.params.id),1),s("div",R,[!e.gameStarted&&!e.gameEnded?(o(),i("div",v,[t[3]||(t[3]=s("h1",null,'Игра "Копилка"',-1)),t[4]||(t[4]=s("p",null,[s("strong",null,'"Копилка"'),m(" — игра на развитие скорости мышления и вычислительных навыков. ")],-1)),t[5]||(t[5]=s("p",null,[s("strong",null,"Цель игры:"),m(' определить, в какой из копилок больше денег. Если суммы равны, можно выбрать любую. С каждым раундом добавляются монеты номиналом "2". ')],-1)),s("button",{class:"start-button btn btn-primary",onClick:t[0]||(t[0]=(...n)=>e.startGame&&e.startGame(...n))},"Начать игру")])):e.gameStarted?(o(),i("div",w,[s("p",null,"Раунд: "+a(e.currentRound)+" / "+a(e.totalRounds),1),s("div",B,[s("div",{class:"piggy-bank border p-3 mx-2",onClick:t[1]||(t[1]=n=>e.handleAnswer("left"))},[(o(!0),i(h,null,c(e.leftBank,(n,d)=>(o(),i("div",{key:"left-"+d,class:"coin"},a(n),1))),128))]),s("div",{class:"piggy-bank border p-3 mx-2",onClick:t[2]||(t[2]=n=>e.handleAnswer("right"))},[(o(!0),i(h,null,c(e.rightBank,(n,d)=>(o(),i("div",{key:"right-"+d,class:"coin"},a(n),1))),128))])]),e.feedback?(o(),i("p",{key:0,class:p(["message",{correct:e.feedback==="Правильно!",incorrect:e.feedback==="Неправильно!"}])},a(e.feedback),3)):u("",!0)])):u("",!0),e.gameEnded?(o(),i("div",C,[t[7]||(t[7]=s("h3",null,"Игра завершена!",-1)),s("p",null,"Правильных ответов: "+a(e.correctAnswers)+" из "+a(e.totalRounds),1),s("p",null,"Точность: "+a(e.accuracy)+"%",1),s("p",null,"Время: "+a(e.time)+" секунд",1),g(l,{to:"/tests",class:"btn btn-secondary"},{default:b(()=>t[6]||(t[6]=[m("Назад к тестам")])),_:1})])):u("",!0)])])],64)}}});export{E as default};
