import{l as k,h as v,b as d,e as o,o as i,f as u,g as n,t as g,i as c,k as _,F as S,j as x,m as b,w as E}from"./index-CX3mfoam.js";const B="/assets/img_1-Bu8nA-jD.png",C="/assets/img_2-Dfn2sxn3.png",G="/assets/img_3-Bloq5hWG.png",I="/assets/img_4-BMyXpMeS.png",N="/assets/img_5-BSc5ZER4.png",T="/assets/img_6-5f5BToEa.png",V="/assets/img_7-DtkgV7qJ.png",w="/assets/img_8-6sblCxc7.png",D={components:{Navbar:v},data(){return{images:[{src:B,correctSpot:{x:218,y:138}},{src:C,correctSpot:{x:60,y:25}},{src:G,correctSpot:{x:245,y:60}},{src:I,correctSpot:{x:150,y:80}},{src:N,correctSpot:{x:100,y:155}},{src:T,correctSpot:{x:240,y:90}},{src:V,correctSpot:{x:25,y:70}},{src:w,correctSpot:{x:260,y:135}}],highlightedSpots:{},gameEnded:!1,gameStarted:!1,timer:60,totalSpots:8,foundSpots:0}},methods:{startGame(){this.gameStarted=!0,this.gameEnded=!1,this.timer=60,this.highlightedSpots={},this.foundSpots=0,this.startTimer()},checkSpot(a,t){const p=t.target.getBoundingClientRect(),h=t.clientX-p.left,e=t.clientY-p.top,s=this.images[a].correctSpot,r=20;h>=s.x-r&&h<=s.x+r&&e>=s.y-r&&e<=s.y+r&&(this.highlightedSpots[a]||(this.highlightedSpots={...this.highlightedSpots,[a]:{style:{position:"absolute",left:`${s.x-r}px`,top:`${s.y-r}px`,width:`${r*2}px`,height:`${r*2}px`,border:"2px solid red",borderRadius:"50%",pointerEvents:"none"}}},this.foundSpots++,this.checkGameEnd()))},checkGameEnd(){(this.foundSpots===this.totalSpots||this.timer<=0)&&(this.gameEnded=!0,clearInterval(this.timerInterval))},startTimer(){this.timerInterval=setInterval(()=>{this.timer>0?this.timer--:(this.gameEnded=!0,clearInterval(this.timerInterval))},1e3)}},mounted(){this.startTimer()},beforeUnmount(){clearInterval(this.timerInterval)}},M={class:"container mt-5 text-center"},R={id:"app"},X={class:"image-checker"},j={key:1},q={class:"image-container-wrapper"},F=["src","onClick"],Y={key:0},z={key:1},A={key:2};function J(a,t,p,h,e,s){const r=d("Navbar"),f=d("router-link");return i(),o(S,null,[u(r),n("div",M,[n("h2",null,"Тест №"+g(a.$route.params.id),1),n("div",R,[n("div",X,[t[3]||(t[3]=n("h2",null,"Найдите неточность на картинке",-1)),e.gameStarted?c("",!0):(i(),o("button",{key:0,onClick:t[0]||(t[0]=(...l)=>s.startGame&&s.startGame(...l))},"Начать игру")),e.gameStarted?(i(),o("div",j,[n("div",q,[(i(!0),o(S,null,x(e.images,(l,m)=>(i(),o("div",{key:m,class:"image-container"},[n("img",{src:l.src,onClick:y=>s.checkSpot(m,y)},null,8,F),e.highlightedSpots[m]?(i(),o("div",{key:0,class:"highlight",style:b(e.highlightedSpots[m].style)},null,4)):c("",!0)]))),128))]),e.gameEnded?c("",!0):(i(),o("p",Y,g(e.timer)+" секунд осталось",1)),e.gameEnded?(i(),o("p",z,"Игра окончена!")):c("",!0),e.gameEnded?(i(),o("p",A,"Вы нашли "+g(e.foundSpots)+" из "+g(e.totalSpots)+" отличий.",1)):c("",!0),e.gameEnded?(i(),o("button",{key:3,onClick:t[1]||(t[1]=(...l)=>s.startGame&&s.startGame(...l))},"Начать заново")):c("",!0)])):c("",!0),t[4]||(t[4]=n("br",null,null,-1)),t[5]||(t[5]=_()),u(f,{to:"/tests",class:"btn btn-secondary"},{default:E(()=>t[2]||(t[2]=[_("Назад к тестам")])),_:1})])])])],64)}const U=k(D,[["render",J]]);export{U as default};
