import{b as k,e as o,o as l,f as a,g as t,h as c,t as n,i as b,F as m,j as h,w as T,k as f}from"./index-CX3mfoam.js";const p={class:"container mt-5 text-center"},C={id:"app"},N={key:0},g={key:1},w={class:"grid"},V=["disabled","onClick"],v={class:"controls"},y={key:2},R={data(){return{currentView:"start",round:1,timer:null,timeTaken:0,remainingTime:60,maxNumber:12,numbers:[],shuffledNumbers:[],clickedNumbers:[],results:[],missClicks:0,totalMissClicks:0,gridDimensions:{rows:4,cols:3}}},computed:{accuracy(){const r=this.round*this.maxNumber;return r>0?((r-this.totalMissClicks)/r*100).toFixed(2):0}},methods:{startTest(){this.resetRound(),this.currentView="test",this.startTimer()},startTimer(){this.stopTimer(),this.timer=setInterval(()=>{this.remainingTime--,this.remainingTime<=0&&this.handleTimeout()},1e3)},stopTimer(){this.timer&&(clearInterval(this.timer),this.timer=null)},shuffle(r){return r.sort(()=>Math.random()-.5)},checkNumber(r){r===this.clickedNumbers.length+1?(this.clickedNumbers.push(r),this.clickedNumbers.length===this.maxNumber&&this.finishRound()):(this.missClicks+=1,this.missClicks>=3&&this.restartRound())},handleTimeout(){this.missClicks+=1,this.missClicks>=3&&this.restartRound()},finishRound(){this.stopTimer();const r=60-this.remainingTime;this.results.push(r),this.totalMissClicks+=this.missClicks,this.round<3?(this.round+=1,this.resetRound(),this.startTimer()):this.currentView="result"},restartRound(){this.missClicks=0,this.resetRound(),this.startTimer()},resetRound(){this.remainingTime=60,this.clickedNumbers=[],this.missClicks=0,this.round===1?(this.maxNumber=12,this.gridDimensions={rows:4,cols:3}):this.round===2?(this.maxNumber=16,this.gridDimensions={rows:4,cols:4}):(this.maxNumber=20,this.gridDimensions={rows:5,cols:4}),this.numbers=Array.from({length:this.maxNumber},(r,s)=>s+1),this.shuffledNumbers=this.shuffle([...this.numbers])},restartTest(){this.round=1,this.results=[],this.totalMissClicks=0,this.startTest()},goBack(){this.currentView="start",this.round=1,this.results=[],this.totalMissClicks=0},endTest(){this.stopTimer(),this.currentView="result"}}},B=Object.assign(R,{__name:"Test1",setup(r){return(s,i)=>{const d=k("router-link");return l(),o(m,null,[a(c),t("div",p,[t("h2",null,"Тест №"+n(s.$route.params.id),1),t("div",C,[s.currentView==="start"?(l(),o("div",N,[i[5]||(i[5]=t("h1",null,"Тест таблицы Шульте",-1)),t("button",{id:"start-button",onClick:i[0]||(i[0]=(...e)=>s.startTest&&s.startTest(...e))},"Начать тест")])):s.currentView==="test"?(l(),o("div",g,[t("h2",null,"Раунд "+n(s.round),1),t("p",null,"Найдите числа от 1 до "+n(s.maxNumber)+" в порядке возрастания.",1),t("p",null,"Оставшееся время: "+n(s.remainingTime)+" сек",1),t("p",null,"Количество ошибок: "+n(s.missClicks),1),t("div",w,[(l(!0),o(m,null,h(s.shuffledNumbers,e=>(l(),o("button",{key:e,disabled:s.clickedNumbers.includes(e),onClick:u=>s.checkNumber(e),class:"grid-button"},n(e),9,V))),128))]),t("div",v,[t("button",{onClick:i[1]||(i[1]=(...e)=>s.endTest&&s.endTest(...e)),id:"text"},"Завершить"),t("button",{onClick:i[2]||(i[2]=(...e)=>s.restartTest&&s.restartTest(...e)),id:"text"},"Начать заново")])])):s.currentView==="result"?(l(),o("div",y,[i[6]||(i[6]=t("h1",null,"Результаты",-1)),(l(!0),o(m,null,h(s.results,(e,u)=>(l(),o("p",{key:u}," Раунд "+n(u+1)+": "+n(e)+" сек ",1))),128)),i[7]||(i[7]=t("h2",null,"Итог:",-1)),t("p",null,"Ошибок: "+n(s.totalMissClicks),1),t("p",null,"Точность: "+n(s.accuracy)+"%",1),t("button",{onClick:i[3]||(i[3]=(...e)=>s.restartTest&&s.restartTest(...e)),id:"text"},"Повторить попытку"),t("button",{onClick:i[4]||(i[4]=(...e)=>s.goBack&&s.goBack(...e)),id:"text"},"Вернуться назад")])):b("",!0)]),a(d,{to:"/tests",class:"btn btn-secondary"},{default:T(()=>i[8]||(i[8]=[f("Назад к тестам")])),_:1})])],64)}}});export{B as default};
